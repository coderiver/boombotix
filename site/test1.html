
<!doctype html>
<html>
<head>
<title>Canvas Scroll</title>
<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<style type="text/css">
body, html { margin: 0; }
html {
  height:100%;
}
body {
  height: 4000px;
}
video {
  position: fixed;
  left: 50%;
  top: 0;
  min-width: 100%;
  min-height: 100%;
  width: auto;
  height: auto;
  z-index: -100;
  background-size: cover;
  -moz-transform: translateX(-50%);
  transform: translateX(-50%);
}
</style>
</head>
<!-- <canvas id="background" width="1280" height="720"></canvas> -->
<video id="video" src="video/boombotix_explosion.mp4"></video>
<script type="text/javascript">
// var totalImages = 234;
// var images = new Array();
// for(var i = 3; i < totalImages + 3; i++) {
// 	var filename = 'Tron_';
// 	if(i < 10) filename += '00';
// 	else if(i < 100) filename += '0';
// 	filename += i + '.jpg';
// 	var img = new Image;
// 	img.src = 'images/' + filename;
// 	images.push(img);
// }

// var canv = document.getElementById('background');
// var context = canv.getContext('2d');
// $(canv)
// 	.width($(window).width())
// 	.height($(window).height());

var currentLocation = 0;
var video = $('#video').get(0),
  videoLength = video.duration;



/*
var currentMousePos = false;
window.addEventListener('mousemove', function(e) {
	currentMousePos = e.x;
	currentLocation = Math.floor(
		(images.length / $(window).width()) *
		currentMousePos
	);
	setImage(currentLocation);
});
*/

window.addEventListener('mousewheel', function(e) {
	e.preventDefault();
	console.log(e.wheelDelta);
	var delta = Math.max(-1, Math.min(1, e.wheelDelta));
	if(delta == -1) currentLocation += 1;
	if(delta == 1) currentLocation -= 1;
	if(currentLocation < 0) currentLocation = 0;
	if(currentLocation > 400) currentLocation = 400;
	setImage(currentLocation);
});

function setImage(newLocation) {
	videoLength = video.duration;
	// console.log(videoLength);
	video.currentTime =  (newLocation/400)* videoLength;
	//context.drawImage(images[newLocation], 0, 0, 1280, 720);
}
</script>
</html>